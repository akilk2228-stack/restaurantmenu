<!DOCTYPE html>
<html>
<head>
<title>Kitchen Panel</title>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
body{font-family:Arial;background:#111;color:#fff}
.card{background:#222;margin:10px;padding:10px;border-radius:8px}
button{padding:5px;margin:3px}
</style>
</head>

<body>

<h2>ðŸ”¥ Live Kitchen Orders</h2>
<div id="orders"></div>

<audio id="sound" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>

<script>
const firebaseConfig = {
  apiKey: "PASTE_YOUR_API_KEY",
  authDomain: "PASTE.firebaseapp.com",
  projectId: "PASTE_PROJECT_ID",
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

const sound=document.getElementById("sound");

db.collection("orders")
.orderBy("createdAt","desc")
.onSnapshot(snap=>{
 document.getElementById("orders").innerHTML="";
 snap.forEach(doc=>{
  let o=doc.data();
  if(o.status=="Pending") sound.play();

  document.getElementById("orders").innerHTML+=`
   <div class="card">
   <b>${o.customer}</b> | Table ${o.table}<br>
   Status: ${o.status}<br>
   <button onclick="update('${doc.id}','Preparing')">Preparing</button>
   <button onclick="update('${doc.id}','Ready')">Ready</button>
   </div>`;
 });
});

function update(id,status){
 db.collection("orders").doc(id).update({status});
}
</script>
</body>
</html>
